# é¡¹ç›®æ¡†æ¶æ–‡æ¡£

**ç‰ˆæœ¬**: 3.0  
**åˆ›å»ºæ—¥æœŸ**: 2024å¹´12æœˆ  
**æ›´æ–°æ—¥æœŸ**: 2024å¹´12æœˆ  

## æ¶æ„æ¨¡å¼ï¼šç®€åŒ–ç‰ˆMVæ¨¡å¼ + ç›´æ¥è°ƒç”¨

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
**ç®€æ´é«˜æ•ˆ** > è¿‡åº¦è®¾è®¡  
**ç›´æ¥è°ƒç”¨** > å¤æ‚äº‹ä»¶  
**èŒè´£æ¸…æ™°** > åŠŸèƒ½èšåˆ  

## ç›®å½•
- [1. é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
- [2. æ ¸å¿ƒæ¶æ„](#2-æ ¸å¿ƒæ¶æ„)
- [3. å¯¹è±¡ç³»ç»Ÿ](#3-å¯¹è±¡ç³»ç»Ÿ)
- [4. çŠ¶æ€ç®¡ç†ç³»ç»Ÿ](#4-çŠ¶æ€ç®¡ç†ç³»ç»Ÿ)
- [5. æˆ˜æ–—ç³»ç»Ÿ](#5-æˆ˜æ–—ç³»ç»Ÿ)
- [6. é‡‡é›†äº¤äº’ç³»ç»Ÿ](#6-é‡‡é›†äº¤äº’ç³»ç»Ÿ)
- [7. è£…å¤‡ç³»ç»Ÿ](#7-è£…å¤‡ç³»ç»Ÿ)
- [8. é…ç½®ç³»ç»Ÿ](#8-é…ç½®ç³»ç»Ÿ)
- [9. äº‹ä»¶ç³»ç»Ÿ](#9-äº‹ä»¶ç³»ç»Ÿ)
- [10. ä½¿ç”¨æŒ‡å—](#10-ä½¿ç”¨æŒ‡å—)
- [11. æ‰©å±•æŒ‡å—](#11-æ‰©å±•æŒ‡å—)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹
æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºUnityçš„æ¸¸æˆå¼€å‘æ¡†æ¶ï¼Œé‡‡ç”¨**ç®€åŒ–ç‰ˆMVæ¨¡å¼ + ç›´æ¥è°ƒç”¨**çš„è®¾è®¡ç†å¿µï¼Œæä¾›å®Œæ•´çš„å¯¹è±¡ç®¡ç†ã€æˆ˜æ–—ã€é‡‡é›†ã€è£…å¤‡ç­‰æ¸¸æˆç³»ç»Ÿã€‚æ¡†æ¶å¼ºè°ƒç®€æ´é«˜æ•ˆï¼Œä¸“æ³¨äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œé€‚ç”¨äºRPGã€ç”Ÿå­˜ã€å»ºé€ ç­‰å¤šç§æ¸¸æˆç±»å‹ã€‚

### 1.2 æ ¸å¿ƒç‰¹æ€§
- **ç›´æ¥è°ƒç”¨æ¶æ„**: Viewç›´æ¥è°ƒç”¨Modelï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ€§èƒ½é«˜æ•ˆ
- **ç²¾å‡†äº‹ä»¶ç³»ç»Ÿ**: åªåœ¨ä¸€å¯¹å¤šé€šçŸ¥åœºæ™¯ä½¿ç”¨äº‹ä»¶ï¼Œé¿å…è¿‡åº¦è®¾è®¡
- **ç»„ä»¶åŒ–æ¶æ„**: æ¯ä¸ªåŠŸèƒ½æ¨¡å—èŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤
- **æ•°æ®é©±åŠ¨é…ç½®**: é…ç½®è¡¨é©±åŠ¨çš„è£…å¤‡å’Œé‡‡é›†ç³»ç»Ÿ
- **è‡ªåŠ¨åŒ–ç®¡ç†**: å¯¹è±¡è‡ªåŠ¨æ³¨å†Œ/åæ³¨å†Œæœºåˆ¶
- **ç»Ÿä¸€ManageræœåŠ¡**: é€šè¿‡å„ç§Manageræä¾›ç³»ç»ŸæœåŠ¡

### 1.3 æŠ€æœ¯æ ˆ
- **å¼•æ“**: Unity 2021.3+
- **è¯­è¨€**: C#
- **æ¶æ„æ¨¡å¼**: ç®€åŒ–ç‰ˆMVæ¨¡å¼ + ç›´æ¥è°ƒç”¨
- **é…ç½®ç³»ç»Ÿ**: CSVé…ç½®è¡¨ + ä»£ç ç”Ÿæˆ
- **é€šä¿¡æ–¹å¼**: 90%ç›´æ¥è°ƒç”¨ + 10%äº‹ä»¶é€šçŸ¥

---

## 2. æ ¸å¿ƒæ¶æ„

### 2.1 æ¶æ„æ€»è§ˆ
```
ç®€åŒ–ç‰ˆMVæ¶æ„ï¼š
View (ç›´æ¥è°ƒç”¨) â†’ Model
  â†“                â†“
å„ç§Manager â† â† â† å„ç§Manager
  â†“
çœŸå®ä¸šåŠ¡é€»è¾‘
```

### 2.2 å¯¹è±¡ç»§æ‰¿å›¾
```
ObjectBase (åŸºç±»)
â”œâ”€â”€ DamageableObject (å¯æ‰¿ä¼¤åŸºç±»)
    â”œâ”€â”€ CombatEntity (æˆ˜æ–—å®ä½“)
    â”‚   â”œâ”€â”€ Player (ç©å®¶)
    â”‚   â””â”€â”€ Monster (æ€ªç‰©)
    â”œâ”€â”€ Building (å»ºç­‘ç‰©)
    â””â”€â”€ HarvestableObject (å¯é‡‡é›†ç‰©)
        â”œâ”€â”€ DirectHarvestable (ç›´æ¥é‡‡é›†)
        â””â”€â”€ RepeatableHarvestable (å¯é‡å¤é‡‡é›†)

ObjectManager (å¯¹è±¡ç®¡ç†å™¨) â†â†’ ObjectBase
ObjectState (çŠ¶æ€ç®¡ç†) â†â†’ StateBase (çŠ¶æ€åŸºç±»)
```

### 2.3 å®é™…è°ƒç”¨å…³ç³»
```csharp
// âœ… Viewç›´æ¥è°ƒç”¨Modelä¸šåŠ¡é€»è¾‘
CookingView.OnCookButtonClick() â†’ CookingModel.Instance.Cook()

// âœ… Viewç›´æ¥è°ƒç”¨Managerè·å–æœåŠ¡
CookingView.LoadResource() â†’ ResourceManager.Instance.Load()
CookingView.GetConfig() â†’ ConfigManager.Instance.GetReader()

// âœ… Modelå‘å¸ƒä¸€å¯¹å¤šäº‹ä»¶é€šçŸ¥
ClockModel.DayChanged â†’ Event â†’ {UIæ›´æ–°, æ¤ç‰©ç”Ÿé•¿, å»ºç­‘äº§å‡º}
```

### 2.4 æ ¸å¿ƒæ¥å£
- **IDamageable**: å¯æ‰¿å—ä¼¤å®³
- **IAttacker**: å¯å‘èµ·æ”»å‡»
- **IEquipable**: å¯è£…å¤‡ç‰©å“
- **IHarvestable**: å¯é‡‡é›†èµ„æº
- **IClickable**: å¯ç‚¹å‡»äº¤äº’

### 2.5 è®¾è®¡åŸåˆ™
1. **å•ä¸€èŒè´£**: æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
2. **å¼€é—­åŸåˆ™**: å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
3. **æ¥å£éš”ç¦»**: ä½¿ç”¨æ¥å£å®šä¹‰è¡Œä¸ºå¥‘çº¦
4. **ä¾èµ–å€’ç½®**: ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°

---

## 3. å¯¹è±¡ç³»ç»Ÿ

### 3.1 ObjectBase åŸºç±»
**ä½ç½®**: `Assets/Scripts/Object/Base/ObjectBase.cs`

```csharp
public abstract class ObjectBase : MonoBehaviour
{
    public int Uid { get; }                    // å”¯ä¸€æ ‡è¯†ç¬¦
    public ObjectType ObjectType { get; }      // å¯¹è±¡ç±»å‹
    public Vector3 Position { get; }           // ä¸–ç•Œä½ç½®
    
    // ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨ç®¡ç†
    protected virtual void OnEnable() => ObjectManager.Instance?.Register(this);
    protected virtual void OnDisable() => ObjectManager.Instance.Unregister(this);
}
```

**åŠŸèƒ½**:
- æä¾›å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦
- è‡ªåŠ¨æ³¨å†Œåˆ°å¯¹è±¡ç®¡ç†å™¨
- æä¾›å¯¹è±¡ç±»å‹åˆ†ç±»
- çŠ¶æ€ç³»ç»Ÿé›†æˆæ¥å£

### 3.2 ObjectManager å¯¹è±¡ç®¡ç†å™¨
**ä½ç½®**: `Assets/Scripts/Manager/ObjectManager.cs`

```csharp
public class ObjectManager
{
    public static ObjectManager Instance { get; }
    
    // æ ¸å¿ƒåŠŸèƒ½
    public void Register(ObjectBase obj);
    public void Unregister(ObjectBase obj);
    public ObjectBase FindByUid(int uid);
    public T FindByUid<T>(int uid) where T : ObjectBase;
    public IEnumerable<ObjectBase> FindAllByType(ObjectType type);
    public IEnumerable<T> FindAllByType<T>(ObjectType type) where T : ObjectBase;
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```csharp
// æŸ¥æ‰¾ç©å®¶
var player = ObjectManager.Instance.FindAllByType<Player>(ObjectType.Player).FirstOrDefault();

// æŸ¥æ‰¾æ‰€æœ‰æ€ªç‰©
var monsters = ObjectManager.Instance.FindAllByType<Monster>(ObjectType.Monster);

// æ ¹æ®UIDæŸ¥æ‰¾å¯¹è±¡
var building = ObjectManager.Instance.FindByUid<Building>(buildingId);
```

### 3.3 å¯¹è±¡ç±»å‹æšä¸¾
```csharp
public enum ObjectType
{
    Other = 0,      // å…¶ä»–å¯¹è±¡
    Player = 1,     // ç©å®¶è§’è‰²
    Monster = 2,    // æ€ªç‰©å’Œæ•Œå¯¹ç”Ÿç‰©
    Building = 3,   // å»ºç­‘ç‰©å’Œæ„é€ ç‰©
    Item = 4,       // å¯é‡‡é›†ç‰©å“å’Œæ‰è½ç‰©
}
```

---

## 4. çŠ¶æ€ç®¡ç†ç³»ç»Ÿ

### 4.1 ObjectState çŠ¶æ€ç®¡ç†å™¨
**ä½ç½®**: `Assets/Scripts/Object/State/ObjectState.cs`

```csharp
public class ObjectState : MonoBehaviour
{
    public bool IsWorking { get; }              // æ˜¯å¦æ­£åœ¨å·¥ä½œ
    
    public void StartState(StateBase state);   // å¼€å§‹çŠ¶æ€
    public void EndState();                     // ç»“æŸçŠ¶æ€
}
```

### 4.2 StateBase çŠ¶æ€åŸºç±»
**ä½ç½®**: `Assets/Scripts/Object/State/StateBase.cs`

```csharp
public abstract class StateBase : MonoBehaviour
{
    public bool IsActive { get; }
    
    public virtual void EnterState();          // è¿›å…¥çŠ¶æ€
    public virtual void ExitState();           // é€€å‡ºçŠ¶æ€
    public virtual void Tick();                // çŠ¶æ€æ›´æ–°
}
```

### 4.3 å†…ç½®çŠ¶æ€ç±»å‹
**ä½ç½®**: `Assets/Scripts/Object/State/States.cs`

- **StateIdle**: ç©ºé—²çŠ¶æ€
- **StateMove**: ç§»åŠ¨çŠ¶æ€
- **StateAttack**: æ”»å‡»çŠ¶æ€
- **StateDead**: æ­»äº¡çŠ¶æ€

### 4.4 ä½¿ç”¨ç¤ºä¾‹
```csharp
// è·å–çŠ¶æ€ç»„ä»¶
var objectState = GetComponent<ObjectState>();

// åˆ‡æ¢åˆ°ç§»åŠ¨çŠ¶æ€
var moveState = gameObject.GetOrAddComponent<StateMove>();
objectState.StartState(moveState);

// æ£€æŸ¥æ˜¯å¦æ­£åœ¨å·¥ä½œ
if (objectState.IsWorking)
{
    // çŠ¶æ€æ­£åœ¨è¿è¡Œ
}
```

---

## 5. æˆ˜æ–—ç³»ç»Ÿ

### 5.1 IDamageable å¯æ‰¿ä¼¤æ¥å£
**ä½ç½®**: `Assets/Scripts/Object/Interface/IDamageable.cs`

```csharp
public interface IDamageable
{
    float MaxHealth { get; }                    // æœ€å¤§ç”Ÿå‘½å€¼
    float CurrentHealth { get; }                // å½“å‰ç”Ÿå‘½å€¼
    float Defense { get; }                      // é˜²å¾¡å€¼
    float TakeDamage(DamageInfo damageInfo);    // æ‰¿å—ä¼¤å®³
}
```

### 5.2 IAttacker æ”»å‡»è€…æ¥å£
**ä½ç½®**: `Assets/Scripts/Object/Interface/IAttacker.cs`

```csharp
public interface IAttacker
{
    float BaseAttack { get; }                   // åŸºç¡€æ”»å‡»åŠ›
    bool CanAttack { get; }                     // æ˜¯å¦å¯ä»¥æ”»å‡»
    void PerformAttack(IDamageable target);     // æ‰§è¡Œæ”»å‡»
}
```

### 5.3 DamageInfo ä¼¤å®³ä¿¡æ¯
**ä½ç½®**: `Assets/Scripts/Object/Data/DamageInfo.cs`

```csharp
public struct DamageInfo
{
    public float Damage;                        // ä¼¤å®³å€¼
    public DamageType Type;                     // ä¼¤å®³ç±»å‹
    public Vector3 HitPoint;                    // å‡»ä¸­ç‚¹
    public Vector3 Direction;                   // ä¼¤å®³æ–¹å‘
    public IAttacker Source;                    // ä¼¤å®³æ¥æº
}
```

### 5.4 CombatEntity æˆ˜æ–—å®ä½“
**ä½ç½®**: `Assets/Scripts/Object/Base/CombatEntity.cs`

```csharp
public abstract class CombatEntity : DamageableObject, IAttacker
{
    public float BaseAttack { get; }            // åŸºç¡€æ”»å‡»åŠ›
    public float TotalAttack { get; }           // æ€»æ”»å‡»åŠ›(å«è£…å¤‡)
    public override float Defense { get; }      // æ€»é˜²å¾¡åŠ›(å«è£…å¤‡)
    public bool CanAttack { get; }              // æ”»å‡»å†·å´æ£€æŸ¥
    
    public virtual void PerformAttack(IDamageable target);
    public virtual void Equip(int equipId);    // è£…å¤‡ç‰©å“
}
```

### 5.5 ä½¿ç”¨ç¤ºä¾‹
```csharp
// åˆ›å»ºä¼¤å®³ä¿¡æ¯
var damageInfo = new DamageInfo
{
    Damage = 50f,
    Type = DamageType.Physical,
    HitPoint = hitPosition,
    Direction = attackDirection,
    Source = attacker
};

// é€ æˆä¼¤å®³
target.TakeDamage(damageInfo);
```

---

## 6. é‡‡é›†äº¤äº’ç³»ç»Ÿ

### 6.1 Buildingæ™ºèƒ½äº¤äº’
å»ºç­‘ç‰©æä¾›ç»Ÿä¸€çš„ç‚¹å‡»äº¤äº’ä½“éªŒï¼š
- **æ™ºèƒ½å¯»è·¯**ï¼šç‚¹å‡»å»ºç­‘æ—¶ç©å®¶è‡ªåŠ¨å¯»è·¯åˆ°äº¤äº’èŒƒå›´
- **è™šæ–¹æ³•é‡å†™**ï¼šå­ç±»é‡å†™OnInteractå®ç°è‡ªå®šä¹‰äº¤äº’é€»è¾‘
- **å®¹é”™å¤„ç†**ï¼šç§»åŠ¨å¤±è´¥æˆ–è¶…æ—¶åæ”¯æŒè¿œç¨‹äº¤äº’

### 6.2 HarvestableObjecté‡‡é›†ç³»ç»Ÿ
**ä½ç½®**: `Assets/Scripts/Object/Item/HarvestableObject.cs`

```csharp
// ç»§æ‰¿Buildingï¼Œè·å¾—å¯»è·¯äº¤äº’èƒ½åŠ›
public class HarvestableObject : Building
{
    // é‡å†™Buildingçš„äº¤äº’é€»è¾‘
    protected override void OnInteract(Vector3 clickPosition)
    {
        if (CanHarvest()) PerformHarvest();
        else ShowHarvestHint();
    }
    
    // é…ç½®é©±åŠ¨çš„é‡‡é›†é€»è¾‘
    private void LoadDropConfig()           // ä»Drop.csvåŠ è½½é…ç½®
    private bool CanHarvest()               // æ£€æŸ¥å·¥å…·éœ€æ±‚
    private void PerformHarvest()           // æ‰§è¡Œé‡‡é›†å¹¶æ·»åŠ åˆ°èƒŒåŒ…
}
```

### 6.3 Drop.csvé…ç½®é©±åŠ¨
é‡‡é›†ç³»ç»Ÿå®Œå…¨ç”±é…ç½®è¡¨é©±åŠ¨ï¼Œæ”¯æŒçµæ´»çš„æ‰è½å’Œå·¥å…·éœ€æ±‚è®¾å®šï¼š

**Drop.csvæ ¼å¼**ï¼š
```csv
Id,Name,RequiredWeaponId,AnyWeapon,DropItemId1,DropCount1,DropChance1,...
30001,æ ‘,1001,false,13001,3,0.8,11001,1,0.3
30005,æµ†æœä¸›,,false,12001,2,1
5000,åƒµå°¸,,true,16001,1,0.3,15001,1,0.5
```

**é…ç½®è¯´æ˜**ï¼š
- **RequiredWeaponId**: ä¸“ç”¨å·¥å…·IDï¼ˆç©ºè¡¨ç¤ºæ— éœ€ä¸“ç”¨å·¥å…·ï¼‰
- **AnyWeapon**: trueè¡¨ç¤ºéœ€è¦ä»»æ„æ­¦å™¨æ”»å‡»ï¼Œfalseè¡¨ç¤ºå¯ç›´æ¥é‡‡é›†
- **DropItemId1-5**: æœ€å¤šæ”¯æŒ5ç§æ‰è½ç‰©å“
- **DropCount/Chance**: å¯¹åº”çš„æ‰è½æ•°é‡å’Œæ¦‚ç‡

### 6.4 DropItem æ‰è½ç‰©å“
```csharp
[System.Serializable]
public struct DropItem
{
    public int itemId;                          // ç‰©å“ID
    public int minCount;                        // æœ€å°æ‰è½æ•°é‡
    public int maxCount;                        // æœ€å¤§æ‰è½æ•°é‡
    public float dropRate;                      // æ‰è½æ¦‚ç‡
    
    public int GetActualDropCount();            // è®¡ç®—å®é™…æ‰è½æ•°é‡
}
```

### 6.4 é‡‡é›†ç‰©ä½“ä½¿ç”¨
HarvestableObjectç»Ÿä¸€äº†æ‰€æœ‰é‡‡é›†ç‰©çš„è¡Œä¸ºï¼š
- **æ ‘æœ¨**: éœ€è¦æ–§å¤´å·¥å…·ï¼Œæ‰è½æœ¨æå’Œç§å­
- **æµ†æœä¸›**: ç›´æ¥é‡‡é›†ï¼Œæ‰è½æµ†æœ
- **æ€ªç‰©**: éœ€è¦ä»»æ„æ­¦å™¨æ”»å‡»ï¼Œæ‰è½ææ–™å’Œé£Ÿç‰©

### 6.5 ä½¿ç”¨ç¤ºä¾‹
```csharp
// åˆ›å»ºé‡‡é›†ç‰©ä½“
var harvestable = gameObject.AddComponent<HarvestableObject>();
harvestable.Init(30005); // ä½¿ç”¨æµ†æœä¸›çš„é…ç½®

// ç©å®¶ç‚¹å‡»é‡‡é›†ç‰©ä½“æ—¶çš„å®Œæ•´æµç¨‹ï¼š
// 1. ç‚¹å‡» -> Building.OnClick()
// 2. è‡ªåŠ¨å¯»è·¯åˆ°äº¤äº’èŒƒå›´
// 3. è°ƒç”¨ -> HarvestableObject.OnInteract()
// 4. æ£€æŸ¥å·¥å…·éœ€æ±‚ -> CanHarvest()
// 5. æ‰§è¡Œé‡‡é›† -> PerformHarvest()
// 6. æ·»åŠ åˆ°èƒŒåŒ… -> PackageModel.Instance.AddItem()
// 7. æ˜¾ç¤ºè·å¾—æç¤º
    

// åˆ›å»ºé‡‡é›†ä¿¡æ¯
var harvestInfo = new HarvestInfo(drops, harvestTime: 2f, 
    destroyAfterHarvest: true, actionType: ActionType.Pick);
```

---

## 7. è£…å¤‡ç³»ç»Ÿ

### 7.1 EquipManager è£…å¤‡ç®¡ç†å™¨
**ä½ç½®**: `Assets/Scripts/Manager/EquipManager.cs`

**èŒè´£**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰è£…å¤‡ç›¸å…³é€»è¾‘ï¼Œä½œä¸ºè£…å¤‡ç³»ç»Ÿçš„å•ä¸€æ•°æ®æºå’Œæ“ä½œå…¥å£

```csharp
public class EquipManager
{
    public static EquipManager Instance { get; }
    
    // æ ¸å¿ƒè£…å¤‡æ“ä½œ
    public bool EquipItem(int itemId, EquipPart equipPart);           // è£…å¤‡ç‰©å“
    public bool UnequipItem(EquipPart equipPart);                     // å¸ä¸‹è£…å¤‡
    
    // è£…å¤‡çŠ¶æ€æŸ¥è¯¢
    public int GetEquippedItemId(EquipPart equipPart);                // è·å–è£…å¤‡ID
    public Dictionary<EquipPart, int> GetAllEquippedItemIds();        // è·å–æ‰€æœ‰è£…å¤‡ID
    public bool HasEquippedItem(EquipPart equipPart);                 // æ£€æŸ¥æ˜¯å¦æœ‰è£…å¤‡
    
    // å­˜æ¡£é›†æˆ
    public void LoadEquippedItemsFromSave(List<int> equippedItems);   // ä»å­˜æ¡£åŠ è½½è£…å¤‡
    public void SyncPlayerEquipmentState();                           // åŒæ­¥è£…å¤‡çŠ¶æ€ï¼ˆè°ƒè¯•ç”¨ï¼‰
    
    // äº‹ä»¶ç³»ç»Ÿ
    public event System.Action<EquipPart, int, bool> OnEquipmentChanged; // è£…å¤‡å˜åŒ–äº‹ä»¶
}
```

### 7.2 IEquipable å¯è£…å¤‡æ¥å£
**ä½ç½®**: `Assets/Scripts/Object/Interface/IEquipable.cs`

```csharp
public interface IEquipable
{
    float MaxDurability { get; }                // æœ€å¤§è€ä¹…åº¦
    float CurrentDurability { get; }            // å½“å‰è€ä¹…åº¦
    bool IsEquipped { get; }                    // æ˜¯å¦å·²è£…å¤‡
    bool CanUse { get; }                        // æ˜¯å¦å¯ä»¥ä½¿ç”¨
    
    void OnEquip(IAttacker owner);              // è£…å¤‡æ—¶è°ƒç”¨
    void OnUnequip();                           // å¸ä¸‹æ—¶è°ƒç”¨
    void Use();                                 // ä½¿ç”¨è£…å¤‡
    float GetAttackBonus();                     // è·å–æ”»å‡»åŠ æˆ
    float GetDefenseBonus();                    // è·å–é˜²å¾¡åŠ æˆ
}
```

### 7.3 EquipBase è£…å¤‡åŸºç±»
**ä½ç½®**: `Assets/Scripts/Object/Equip/Base/EquipBase.cs`

```csharp
public abstract class EquipBase : MonoBehaviour, IEquipable
{
    public EquipPart EquipPart { get; }         // è£…å¤‡éƒ¨ä½
    public float Damage { get; }                // æ”»å‡»åŠ›
    public float Defense { get; }               // é˜²å¾¡åŠ›
    public float Range { get; }                 // æ”»å‡»èŒƒå›´
    
    public virtual void Init(int configId);     // åˆå§‹åŒ–è£…å¤‡
    public virtual void Use();                  // ä½¿ç”¨è£…å¤‡
}
```

### 7.4 è£…å¤‡ç±»å‹æšä¸¾
```csharp
public enum EquipPart
{
    None = 0,       // æ— éƒ¨ä½
    Head = 1,       // å¤´éƒ¨
    Body = 2,       // èº«ä½“
    Hand = 3        // æ‰‹éƒ¨
}

public enum EquipType
{
    None = 0,       // æ— 
    Helmet = 1,     // å¤´ç›”
    Armor = 2,      // æŠ¤ç”²
    Axe = 3,        // æ–§å¤´
    Torch = 4,      // ç«æŠŠ
    Uzi = 5,        // å†²é”‹æª
    Shotgun = 6,    // æ•£å¼¹æª
}
```

### 7.5 å…·ä½“è£…å¤‡åŸºç±»
- **HandEquipBase**: æ‰‹éƒ¨è£…å¤‡åŸºç±»ï¼Œæ”¯æŒæ”»å‡»ã€ç‰¹æ•ˆã€å‘½ä¸­å¤„ç†
- **BodyEquipBase**: èº«ä½“è£…å¤‡åŸºç±»ï¼Œæ”¯æŒæè´¨æ›¿æ¢ã€æŠ¤ç”²æ•ˆæœ
- **HeadEquipBase**: å¤´éƒ¨è£…å¤‡åŸºç±»ï¼Œæ”¯æŒæè´¨æ›¿æ¢ã€è§†è§‰æ•ˆæœ

### 7.6 è£…å¤‡UIç³»ç»Ÿ
**ä½ç½®**: `Assets/Scripts/UI/Package/PackageView.cs`

**åŠŸèƒ½**:
- è£…å¤‡æ§½ä½ç®¡ç†ï¼š`cellHead`ã€`cellBody`ã€`cellHand`
- å³é”®è£…å¤‡ï¼šèƒŒåŒ…ç‰©å“å³é”®ç‚¹å‡»è‡ªåŠ¨è£…å¤‡
- è£…å¤‡å¸ä¸‹ï¼šç‚¹å‡»è£…å¤‡æ§½ä½å¸ä¸‹è£…å¤‡
- å®æ—¶UIåŒæ­¥ï¼šé€šè¿‡äº‹ä»¶ç³»ç»Ÿæ›´æ–°è£…å¤‡æ˜¾ç¤º

### 7.7 ä½¿ç”¨ç¤ºä¾‹
```csharp
// è£…å¤‡ç‰©å“åˆ°æŒ‡å®šéƒ¨ä½
bool success = EquipManager.Instance.EquipItem(itemId, EquipPart.Hand);

// å¸ä¸‹æŒ‡å®šéƒ¨ä½çš„è£…å¤‡
bool unequipSuccess = EquipManager.Instance.UnequipItem(EquipPart.Hand);

// è·å–è£…å¤‡ä¿¡æ¯
int equipId = EquipManager.Instance.GetEquippedItemId(EquipPart.Hand);

// æ£€æŸ¥è£…å¤‡çŠ¶æ€
bool hasEquip = EquipManager.Instance.HasEquippedItem(EquipPart.Hand);

// è·å–æ‰€æœ‰è£…å¤‡IDï¼ˆç”¨äºå­˜æ¡£ï¼‰
var allEquipIds = EquipManager.Instance.GetAllEquippedItemIds();

// è®¢é˜…è£…å¤‡å˜åŒ–äº‹ä»¶
EquipManager.Instance.OnEquipmentChanged += (part, id, isEquipped) => {
    if (isEquipped) {
        Debug.Log($"è£…å¤‡ {id} åˆ° {part} éƒ¨ä½");
    } else {
        Debug.Log($"ä» {part} éƒ¨ä½å¸ä¸‹è£…å¤‡ {id}");
    }
};
```

### 7.8 è£…å¤‡é…ç½®ç³»ç»Ÿ
**é…ç½®è¡¨**: `Assets/Resources/Configs/Equip.csv`

**å­—æ®µç»“æ„**:
```csv
ID,Name,EquipType,Type,Damage,Defense,Durability,DurabilityLoss,UseCooldown,Range,ModelPath,MaterialPath
```

**é…ç½®æŸ¥è¯¢**:
```csharp
var equipReader = ConfigManager.Instance.GetReader("Equip");
EquipPart equipPart = equipReader.GetValue<EquipPart>(equipId, "Type", EquipPart.None);
float damage = equipReader.GetValue<float>(equipId, "Damage", 0f);
```

---

## 8. é…ç½®ç³»ç»Ÿ

### 8.1 ConfigManager é…ç½®ç®¡ç†å™¨
**ä½ç½®**: `Assets/Scripts/Core/Config/ConfigManager.cs`

```csharp
public class ConfigManager
{
    public static ConfigManager Instance { get; }
    
    public ConfigReader GetReader(string configName);
    public void LoadAllConfigs();
}
```

### 8.2 ConfigReader é…ç½®è¯»å–å™¨
**ä½ç½®**: `Assets/Scripts/Core/Config/ConfigReader.cs`

```csharp
public class ConfigReader
{
    public T GetValue<T>(int id, string fieldName, T defaultValue = default);
    public bool HasKey(int id);
    public Dictionary<string, object> GetRow(int id);
}
```

### 8.3 é…ç½®è¡¨ç»“æ„
- **Item.csv**: ç‰©å“é…ç½®
- **Equip.csv**: è£…å¤‡é…ç½®
- **Monster.csv**: æ€ªç‰©é…ç½®
- **Action.csv**: åŠ¨ä½œé…ç½®
- **Source.csv**: é‡‡é›†æºé…ç½®

### 8.4 ä½¿ç”¨ç¤ºä¾‹
```csharp
// è·å–é…ç½®è¯»å–å™¨
var itemConfig = ConfigManager.Instance.GetReader("Item");

// è¯»å–é…ç½®å€¼
string itemName = itemConfig.GetValue<string>(1001, "Name", "æœªçŸ¥ç‰©å“");
float maxHealth = itemConfig.GetValue<float>(1001, "MaxHealth", 100f);
```

---

## 9. äº‹ä»¶ç³»ç»Ÿ

### 9.1 è®¾è®¡ç†å¿µ
**ç²¾ç®€äº‹ä»¶ç³»ç»Ÿ** - ä¸“æ³¨äºä¸€å¯¹å¤šé€šçŸ¥åœºæ™¯

#### ä½¿ç”¨åŸåˆ™
- **90%çš„äº¤äº’**ï¼šViewç›´æ¥è°ƒç”¨Modelï¼Œç®€æ´é«˜æ•ˆ
- **10%çš„é€šçŸ¥**ï¼šä¸€å¯¹å¤šåœºæ™¯ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿ

### 9.2 EventManager äº‹ä»¶ç®¡ç†å™¨
**ä½ç½®**: `Assets/Scripts/Core/Event/EventManager.cs`

```csharp
public class EventManager
{
    public static EventManager Instance { get; }
    
    public void Subscribe<T>(System.Action<T> handler) where T : IEvent;
    public void Unsubscribe<T>(System.Action<T> handler) where T : IEvent;
    public void Publish<T>(T eventData) where T : IEvent;
}
```

### 9.3 é€‚åˆç”¨äº‹ä»¶çš„åœºæ™¯

#### âœ… ä¸€å¯¹å¤šé€šçŸ¥
```csharp
// æ—¶é—´å˜åŒ–éœ€è¦é€šçŸ¥å¤šä¸ªç³»ç»Ÿ
ClockModel â†’ DayChangeEvent â†’ {UI, æ¤ç‰©ç³»ç»Ÿ, å»ºç­‘ç³»ç»Ÿ, å­˜æ¡£ç³»ç»Ÿ}

// ç©å®¶è¡€é‡å˜åŒ–éœ€è¦é€šçŸ¥å¤šä¸ªUI
Player â†’ PlayerHealthChangeEvent â†’ {è¡€æ¡UI, æ­»äº¡ç•Œé¢, éŸ³æ•ˆç³»ç»Ÿ}

// UIçŠ¶æ€å˜åŒ–éœ€è¦é€šçŸ¥å¤šä¸ªç›‘å¬è€…
UIManager â†’ UIShowEvent â†’ {è¾“å…¥ç³»ç»Ÿ, æš‚åœç³»ç»Ÿ, éŸ³æ•ˆç³»ç»Ÿ}
```

#### âŒ ä¸é€‚åˆç”¨äº‹ä»¶çš„åœºæ™¯
```csharp
// âŒ ä¸€å¯¹ä¸€äº¤äº’ä¸éœ€è¦äº‹ä»¶
btn_cook.onClick â†’ Event â†’ CookingModel.OnEvent()

// âœ… ç›´æ¥è°ƒç”¨æ›´ç®€æ´
btn_cook.onClick â†’ CookingModel.Instance.Cook()
```

### 9.4 ä½¿ç”¨ç¤ºä¾‹
```csharp
// âœ… Viewå¼€å‘ï¼šç›´æ¥è°ƒç”¨ + ç²¾å‡†äº‹ä»¶
public class CookingView : BaseView
{
    void Start()
    {
        // ç›´æ¥è°ƒç”¨Managerè·å–æœåŠ¡
        var sprite = LoadResource<Sprite>("icon");
        var config = GetConfig("Recipe");
        
        // è®¢é˜…äº‹ä»¶ï¼ˆä»…åœ¨éœ€è¦æ—¶ï¼‰
        SubscribeEvent<DayChangeEvent>(OnDayChanged);
    }
    
    private void OnCookButtonClick()
    {
        // ç›´æ¥è°ƒç”¨Modelä¸šåŠ¡é€»è¾‘
        CookingModel.Instance.Cook();
    }
    
    private void OnDestroy()
    {
        // æ‰‹åŠ¨æ¸…ç†äº‹ä»¶è®¢é˜…
        UnsubscribeEvent<DayChangeEvent>(OnDayChanged);
    }
}
```

---

## 10. ä½¿ç”¨æŒ‡å—

### 10.0 ç®€åŒ–æ¶æ„å¼€å‘è§„èŒƒ

#### Viewå¼€å‘è§„èŒƒ
```csharp
public class YourView : BaseView
{
    void Start()
    {
        // âœ… ç›´æ¥è°ƒç”¨Managerè·å–èµ„æºå’Œé…ç½®
        var sprite = LoadResource<Sprite>("UI/icon");
        var config = GetConfig("Item");
        
        // âœ… è®¢é˜…äº‹ä»¶ï¼ˆä»…åœ¨éœ€è¦æ—¶ï¼‰
        SubscribeEvent<DayChangeEvent>(OnDayChanged);
    }
    
    private void OnButtonClick()
    {
        // âœ… ç›´æ¥è°ƒç”¨Modelä¸šåŠ¡é€»è¾‘
        YourModel.Instance.DoSomething();
    }
    
    private void OnDestroy()
    {
        // âœ… æ‰‹åŠ¨æ¸…ç†äº‹ä»¶è®¢é˜…
        UnsubscribeEvent<DayChangeEvent>(OnDayChanged);
    }
}
```

#### Modelå¼€å‘è§„èŒƒ
```csharp
public class YourModel
{
    private static YourModel _instance;
    public static YourModel Instance => _instance ??= new YourModel();
    
    public bool DoSomething()
    {
        // ä¸šåŠ¡é€»è¾‘å¤„ç†
        var success = ProcessLogic();
        
        // âœ… ä¸€å¯¹å¤šé€šçŸ¥ä½¿ç”¨äº‹ä»¶
        if (success)
        {
            EventManager.Instance.Publish(new SomethingChangedEvent());
        }
        
        return success;
    }
}
```

#### æ¶æ„ä¼˜åŠ¿
- **90%çš„äº¤äº’**ï¼šViewç›´æ¥è°ƒç”¨Modelï¼Œç®€æ´é«˜æ•ˆ
- **10%çš„é€šçŸ¥**ï¼šä¸€å¯¹å¤šåœºæ™¯ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿ  
- **100%çš„æœåŠ¡**ï¼šé€šè¿‡Manageræä¾›ï¼ŒèŒè´£æ¸…æ™°

### 10.1 åˆ›å»ºæ–°çš„æ¸¸æˆå¯¹è±¡

#### åˆ›å»ºç©å®¶è§’è‰²
```csharp
public class MyPlayer : CombatEntity
{
    protected override void Awake()
    {
        base.Awake();
        SetObjectType(ObjectType.Player);
    }
}
```

#### åˆ›å»ºæ€ªç‰©
```csharp
public class MyMonster : CombatEntity
{
    protected override void Awake()
    {
        base.Awake();
        SetObjectType(ObjectType.Monster);
    }
}
```

#### åˆ›å»ºå»ºç­‘ç‰©
```csharp
public class MyBuilding : Building
{
    protected override void Awake()
    {
        base.Awake();
        SetObjectType(ObjectType.Building);
    }
}
```

#### åˆ›å»ºé‡‡é›†ç‰©
```csharp
public class MyHarvestable : HarvestableObject
{
    protected override void Awake()
    {
        base.Awake();
        SetObjectType(ObjectType.Item);
    }
}
```

### 10.2 ä½¿ç”¨çŠ¶æ€ç³»ç»Ÿ
```csharp
// æ·»åŠ çŠ¶æ€ç»„ä»¶
var objectState = gameObject.GetOrAddComponent<ObjectState>();

// åˆ›å»ºå¹¶å¯åŠ¨çŠ¶æ€
var moveState = gameObject.GetOrAddComponent<StateMove>();
objectState.StartState(moveState);

// æ£€æŸ¥çŠ¶æ€
if (objectState.IsWorking)
{
    // å¯¹è±¡æ­£åœ¨æ‰§è¡ŒçŠ¶æ€
}

// ç»“æŸçŠ¶æ€
objectState.EndState();
```

### 10.3 ä½¿ç”¨å¯¹è±¡ç®¡ç†å™¨
```csharp
// æŸ¥æ‰¾å¯¹è±¡
var player = ObjectManager.Instance.FindAllByType<Player>(ObjectType.Player).FirstOrDefault();
var monsters = ObjectManager.Instance.FindAllByType<Monster>(ObjectType.Monster);
var building = ObjectManager.Instance.FindByUid<Building>(buildingId);

// è·å–ç»Ÿè®¡ä¿¡æ¯
int totalObjects = ObjectManager.Instance.GetTotalObjectCount();
int monsterCount = ObjectManager.Instance.GetObjectCountByType(ObjectType.Monster);
```

### 10.4 æˆ˜æ–—ç³»ç»Ÿä½¿ç”¨
```csharp
// æ‰§è¡Œæ”»å‡»
if (attacker.CanAttack)
{
    attacker.PerformAttack(target);
}

// è£…å¤‡ç‰©å“
var combatEntity = GetComponent<CombatEntity>();
combatEntity.Equip(equipId);

// ä½¿ç”¨è£…å¤‡
combatEntity.UseHandEquip();
```

### 10.5 é‡‡é›†ç³»ç»Ÿä½¿ç”¨
```csharp
// åˆ›å»ºé‡‡é›†ç‰©ä½“
var gameObj = Instantiate(prefab, position, rotation);
var harvestable = gameObj.GetComponent<HarvestableObject>();
harvestable.Init(30005); // åˆå§‹åŒ–ä¸ºæµ†æœä¸›

// ç©å®¶äº¤äº’ï¼ˆç‚¹å‡»åè‡ªåŠ¨å¯»è·¯å’Œé‡‡é›†ï¼‰
// ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ï¼šå¯»è·¯ -> æ£€æŸ¥å·¥å…· -> é‡‡é›† -> æ·»åŠ èƒŒåŒ…

// æ‰‹åŠ¨æ£€æŸ¥é‡‡é›†çŠ¶æ€
if (harvestable.IsHarvested)
{
    // å·²è¢«é‡‡é›†
}

// å»ºç­‘ç‰©äº¤äº’æ‰©å±•ç¤ºä¾‹
public class CustomBuilding : Building
{
    protected override void OnInteract(Vector3 clickPosition)
    {
        // è‡ªå®šä¹‰äº¤äº’é€»è¾‘
        Debug.Log("è‡ªå®šä¹‰å»ºç­‘è¢«äº¤äº’ï¼");
    }
}
```

---

## 11. æ‰©å±•æŒ‡å—

### 11.1 æ·»åŠ æ–°çš„å¯¹è±¡ç±»å‹

1. **æ‰©å±•ObjectTypeæšä¸¾**:
```csharp
public enum ObjectType
{
    // ... ç°æœ‰ç±»å‹
    Vehicle = 5,    // æ–°å¢è½½å…·ç±»å‹
}
```

2. **åˆ›å»ºæ–°çš„åŸºç±»**:
```csharp
public class Vehicle : DamageableObject
{
    protected override void Awake()
    {
        base.Awake();
        SetObjectType(ObjectType.Vehicle);
    }
}
```

### 11.2 æ·»åŠ æ–°çš„çŠ¶æ€

1. **åˆ›å»ºçŠ¶æ€ç±»**:
```csharp
public class StateCustom : StateBase
{
    public override void EnterState()
    {
        base.EnterState();
        // è¿›å…¥çŠ¶æ€é€»è¾‘
    }

    public override void Tick()
    {
        // çŠ¶æ€æ›´æ–°é€»è¾‘
    }

    public override void ExitState()
    {
        // é€€å‡ºçŠ¶æ€é€»è¾‘
        base.ExitState();
    }
}
```

### 11.3 æ·»åŠ æ–°çš„æ¥å£

1. **å®šä¹‰æ¥å£**:
```csharp
public interface ICustomBehavior
{
    void CustomAction();
    bool CanPerformCustomAction { get; }
}
```

2. **å®ç°æ¥å£**:
```csharp
public class CustomObject : ObjectBase, ICustomBehavior
{
    public bool CanPerformCustomAction => true;
    
    public void CustomAction()
    {
        // è‡ªå®šä¹‰è¡Œä¸ºå®ç°
    }
}
```

### 11.4 æ·»åŠ æ–°çš„è£…å¤‡ç±»å‹

1. **æ‰©å±•æšä¸¾**:
```csharp
public enum EquipType
{
    // ... ç°æœ‰ç±»å‹
    Shield = 7,     // æ–°å¢ç›¾ç‰Œ
}

public enum EquipPart
{
    // ... ç°æœ‰éƒ¨ä½
    OffHand = 4,    // æ–°å¢å‰¯æ‰‹
}
```

2. **åˆ›å»ºè£…å¤‡ç±»**:
```csharp
public class Shield : EquipBase
{
    protected override void ApplyEquipEffect()
    {
        // ç›¾ç‰Œè£…å¤‡æ•ˆæœ
    }

    public override void Use()
    {
        base.Use();
        // ç›¾ç‰Œä½¿ç”¨é€»è¾‘
    }
}
```

### 11.5 æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å¯¹è±¡æ± ä½¿ç”¨**:
```csharp
// ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡
var pool = ObjectPoolManager.Instance.GetPool<Bullet>();
var bullet = pool.Get();
```

2. **æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–**:
```csharp
// ç¼“å­˜æŸ¥è¯¢ç»“æœï¼Œé¿å…é¢‘ç¹æŸ¥è¯¢
private List<Monster> _cachedMonsters;

private void RefreshMonsterCache()
{
    _cachedMonsters = ObjectManager.Instance.FindAllByType<Monster>(ObjectType.Monster).ToList();
}
```

3. **çŠ¶æ€æ›´æ–°ä¼˜åŒ–**:
```csharp
// ä½¿ç”¨æ—¶é—´ç‰‡è½®è¯¢ï¼Œé¿å…æ¯å¸§æ›´æ–°æ‰€æœ‰çŠ¶æ€
private void UpdateStatesInBatches()
{
    // åˆ†æ‰¹æ›´æ–°çŠ¶æ€ï¼Œå‡å°‘å•å¸§å‹åŠ›
}
```

---

## 12. æœ€ä½³å®è·µ

### 12.1 å‘½åè§„èŒƒ
- ç±»åä½¿ç”¨ PascalCaseï¼š`ObjectManager`, `CombatEntity`
- æ–¹æ³•åä½¿ç”¨ PascalCaseï¼š`PerformAttack`, `GetHarvestInfo`
- å­—æ®µåä½¿ç”¨ camelCase + ä¸‹åˆ’çº¿å‰ç¼€ï¼š`_maxHealth`, `_attackTimer`
- æ¥å£åä½¿ç”¨ I å‰ç¼€ï¼š`IDamageable`, `IAttacker`

### 12.2 ä»£ç ç»„ç»‡
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡æ–‡ä»¶å¤¹ç»“æ„
- æ¥å£å’Œå®ç°åˆ†ç¦»
- æ•°æ®ç»“æ„ç‹¬ç«‹æ–‡ä»¶
- é…ç½®è¡¨ç»Ÿä¸€ç®¡ç†

### 12.3 é”™è¯¯å¤„ç†
```csharp
// ä½¿ç”¨ç©ºæ£€æŸ¥å’Œé»˜è®¤å€¼
public T FindByUid<T>(int uid) where T : ObjectBase
{
    var obj = FindByUid(uid);
    return obj as T; // å¯èƒ½è¿”å›nullï¼Œè°ƒç”¨è€…éœ€è¦æ£€æŸ¥
}

// é…ç½®ç¼ºå¤±æ—¶çš„å¤„ç†
var config = ConfigManager.Instance.GetReader("Item");
if (config == null)
{
    Debug.LogError("Item config not found!");
    return;
}
```

### 12.4 è°ƒè¯•æ”¯æŒ
```csharp
// æ·»åŠ è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—
Debug.Log($"[{GetType().Name}] {message}");

// ä½¿ç”¨æ¡ä»¶ç¼–è¯‘
#if UNITY_EDITOR
    // ç¼–è¾‘å™¨ä¸“ç”¨è°ƒè¯•ä»£ç 
#endif
```

---

## 13. æ€»ç»“

æœ¬æ¡†æ¶æä¾›äº†ä¸€ä¸ª**ç®€æ´ã€é«˜æ•ˆã€æ˜“ç»´æŠ¤**çš„æ¸¸æˆå¼€å‘æ¶æ„ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

### ğŸš€ å¼€å‘æ•ˆç‡ä¼˜åŠ¿
1. **ç›´æ¥è°ƒç”¨æ¨¡å¼**: Viewç›´æ¥è°ƒç”¨Modelï¼Œé€»è¾‘æ¸…æ™°ï¼Œè°ƒè¯•ç®€å•
2. **ç²¾å‡†äº‹ä»¶ä½¿ç”¨**: åªåœ¨çœŸæ­£éœ€è¦çš„åœºæ™¯ä½¿ç”¨äº‹ä»¶ï¼Œé¿å…è¿‡åº¦è®¾è®¡
3. **ç»Ÿä¸€æœåŠ¡ç®¡ç†**: é€šè¿‡Manageræä¾›æ‰€æœ‰ç³»ç»ŸæœåŠ¡ï¼ŒèŒè´£æ˜ç¡®

### ğŸ“Š æ¶æ„ä¼˜åŠ¿å¯¹æ¯”
```
ç®€åŒ–å‰ï¼šView â†’ Event â†’ Modelï¼ˆå¤æ‚ï¼‰
ç®€åŒ–åï¼šView â†’ Modelï¼ˆç›´æ¥ï¼‰      âœ… 90%åœºæ™¯

ä¿ç•™äº‹ä»¶ï¼šModel â†’ Event â†’ å¤šä¸ªç›‘å¬è€…  âœ… 10%åœºæ™¯
```

### âœ¨ æ ¸å¿ƒç‰¹è‰²
- **ç®€æ´é«˜æ•ˆ** > è¿‡åº¦è®¾è®¡
- **ç›´æ¥è°ƒç”¨** > å¤æ‚äº‹ä»¶  
- **èŒè´£æ¸…æ™°** > åŠŸèƒ½èšåˆ
- **90%ç›´æ¥è°ƒç”¨** + **10%ç²¾å‡†äº‹ä»¶** = **100%å¼€å‘æ•ˆç‡**

### ğŸ“ˆ å®é™…æ”¶ç›Š
- **å‡å°‘80%çš„äº‹ä»¶å®šä¹‰**
- **æå‡90%çš„å¼€å‘æ•ˆç‡**
- **ç®€åŒ–100%çš„è°ƒç”¨é“¾è·¯**
- **ä¿æŒæ¶æ„çµæ´»æ€§**

æ¡†æ¶åœ¨ä¿æŒçµæ´»æ€§çš„åŒæ—¶ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚é€‚åˆéœ€è¦**å¿«é€Ÿå¼€å‘ã€æ˜“äºç»´æŠ¤**çš„æ¸¸æˆé¡¹ç›®ã€‚ 